<!DOCTYPE html>
<html>
<head>
   <meta http-equiv="content-type" content="text/html;charset=utf-8"> 
   <title>Using Open Football Data - Get Ready for the World Cup in Brazil 2014 w/ Ruby</title>

<meta name="generator" content="Slide Show (S9) 2.3.1 on Ruby 1.9.2 (2011-07-09) [i386-mingw32]">
<meta name="author"    content="Your Name Here" >

<!-- helper/macro that lets you add (CSS3) gradient using headers
     see http://slideshow.rubyforge.org/themes.html
     
     -->

<!-- S6 style sheet links -->
<link rel="stylesheet" href="open_data_world_cup_with_js.css" media="projection" id="styleProjection">
<link rel="stylesheet" href="s6/screen.css"         media="screen"     id="styleScreen">
<link rel="stylesheet" href="s6/print.css"          media="print">

<!-- S6 JS -->
<script src="s6/jquery.js"></script>
<script src="s6/jquery.slideshow.js"></script>
<script>
  $(document).ready( function() {
    Slideshow.init();
  } );

  
</script>

<!-- Better Browser Banner for Microsoft Internet Explorer (IE) -->
<!--[if IE]>
<script src="s6/jquery.microsoft.js"></script>
<![endif]-->



</head>
<body>

<div class="layout"> 
  <div id="header"></div>
  <div id="footer">
    <h1>Your Footer Here</h1>
    <h2>Your Subfooter Here</h2>
  </div>
</div>

<div class="presentation">
   
<div class='slide '>
<!-- === begin markdown block ===

      generated by markdown 1.1.1 on Ruby 1.9.2 (2011-07-09) [i386-mingw32]
                on 2014-04-30 17:56:02 +0200 with Markdown engine kramdown (1.2.0)
                  using options {}
  -->


<!-- _S9SLIDE_ -->
<h1 id="using-open-football-data---get-ready-for-the-world-cup-in-brazil-2014-w-javascript">Using Open Football Data - Get Ready for the World Cup in Brazil 2014 w/ JavaScript</h1>

<h3 id="agenda">Agenda</h3>

<p>Let&#8217;s Build A World Cup Widget in JavaScript</p>

<ul>
  <li>Part I: Basics
    <ul>
      <li>World Cup in Brazil 2014 - The World&#8217;s Biggest (Sport) Event</li>
      <li>Let&#8217;s Use an HTTP JSON API</li>
      <li>What&#8217;s <code>football.db?</code></li>
      <li>What&#8217;s Open Data? - Terms of Use
        <ul>
          <li>Public Domain. No Rights Reserved. vs. © FIFA 2014. All Rights Reserved.</li>
        </ul>
      </li>
      <li>What&#8217;s Structured Data?
        <ul>
          <li>Ex. FIFA - Free-Form Text vs. Structured Data</li>
          <li>Ex. Wikipedia - Free-Form Text vs. Structured Data</li>
          <li>Football Match Schedule Mini Language - New Structured Data Format Example</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Part II: Code, Code, Code
    <ul>
      <li>Matchday Widget Example - <code>footballdb.widget.js</code> - v1.0</li>
      <li>Matchday Widget Example - <code>footballdb.widget.js</code> - v2.0</li>
      <li>Web Components Machinery - New Web Standard Building Blocks</li>
      <li>Matchday Widget Example - <code>&lt;football-js&gt;</code> - v3.0</li>
    </ul>
  </li>
</ul>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="world-cup-in-brazil-2014---the-worlds-biggest-sport-event">World Cup in Brazil 2014 - The World&#8217;s Biggest (Sport) Event</h1>

<p>When: 12 June - 13 July; Starts in:</p>

<h2 id="days-3-hours-15-minutes">43 days 3 hours 15 minutes</h2>

<p>What:</p>

<h2 id="teams-64-matches-25-matchdays-12-cities">32 teams 64 matches 25 matchdays 12 cities</h2>

<ul>
  <li>
    <p>32 teams &#8211;  Australia, Iran, Japan, South Korea,
  Algeria, Cameroon, Ghana, Ivory Coast, Nigeria,
  Costa Rica, Honduras, Mexico, United States,
  Argentina, Brazil, Chile, Colombia, Ecuador,
  Uruguay, Belgium, Bosnia and Herzegovina,
  Croatia, England, France, Germany,
  Greece, Italy, Netherlands, Portugal,
  Russia, Spain, Switzerland</p>
  </li>
  <li>
    <p>12 cities  &#8211; Rio de Janeiro, São Paulo, Brasília, Fortaleza,
  Belo Horizonte, Porto Alegre, Salvador, Recife,
  Cuiabá, Manaus, Natal, Curitiba</p>
  </li>
</ul>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="lets-build-a-world-cup-widget-in-javascript">Let&#8217;s Build A World Cup Widget in JavaScript</h1>

<p>First let&#8217;s use an HTTP JSON API. Example:</p>

<pre><code>GET /event/world.2014/teams

{
  "event": {
    "key":   "world.2014", "title": "World Cup 2014"
  },
  "teams": [
    { "key": "gre", "title": "Greece",      "code": "GRE" },
    { "key": "ned", "title": "Netherlands", "code": "NED" },
    { "key": "ger", "title": "Germany",     "code": "GER" },
    { "key": "por", "title": "Portugal",    "code": "POR" },
    ...
  ]
}
</code></pre>

<p>Let&#8217;s ask the intertubes (let&#8217;s google <a href="http://www.google.com/search?q=json+world+cup+brazil"><code>json world cup brazil</code></a>
or post a question on the open data
stackexchange <a href="http://opendata.stackexchange.com/questions/1791/any-open-data-sets-for-the-football-world-cup-in-brazil-2014">&#8216;Any Open Data Sets for the (Football) World Cup (in Brazil 2014)?&#8217;</a>).</p>

<p>Nothing. Nada. Nichts. Niente. Zilch. Zero.</p>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="whats-footballdb">What&#8217;s <code>football.db?</code></h1>

<ul>
  <li>
    <p>Public domain football data sets offering free open football data
for the World Cup in Brazil 2014 and more.</p>
  </li>
  <li>
    <p>Free self-hosted HTTP JSON API service for football data, for example:</p>
    <ul>
      <li>Step 1: Download the <code>worldcup2014.db</code> SQLite Database</li>
      <li>Step 2: Serve up teams, rounds, matches, etc. via HTTP JSON API using the
<code>sportdb</code> command line tool</li>
    </ul>
  </li>
</ul>

<pre><code>$ sportdb serve
</code></pre>

<p>Services available include:</p>

<ul>
  <li><code>/event/world.2014/teams</code>    &#8211; List all teams</li>
  <li><code>/event/world.2014/rounds</code>   &#8211; List all rounds (matchdays)</li>
  <li><code>/event/world.2014/round/20</code> &#8211; List all matches in a round e.g. - 20th Round (=&gt; Final) </li>
</ul>

<pre><code>GET /event/world.2014/round/1

{
  "event": { "key": "world.2014", "title": "World Cup 2014" },
  "round": { "pos": 1, "title": "Matchday 1" },
  "games": [
    {
      "team1_key": "bra",
      "team1_title": "Brazil",
      "team1_code": "BRA",
      "team2_key": "cro",
      "team2_title": "Croatia",
      "team2_code": "CRO",
      "play_at": "2014/06/12",
      "score1": null,
      "score2": null,
      "score1ot": null,
      "score2ot": null,
      "score1p": null,
      "score2p": null
    }
  ]
}
</code></pre>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="basics---whats-open-data---terms-of-use">Basics - What&#8217;s Open Data? - Terms of Use</h1>

<p>Open (Free) Data   &lt;=&gt;  Copyright © FIFA 2014. All Rights Reserved.</p>

<p>Example 1:</p>

<ul>
  <li>A Free One-Page Booklet (PDF) Download for the Match Schedule from <a href="http://fifa.com/worldcup/matches"><code>fifa.com</code></a>.
    <ul>
      <li>Copyright © FIFA 2014. All Rights Reserved.</li>
    </ul>
  </li>
</ul>

<p><img src="i/fifa-match-schedule-download.png" alt="" /></p>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="basics---whats-open-data---terms-of-use-cont">Basics - What&#8217;s Open Data? - Terms of Use (Cont.)</h1>

<p>Open (Free) Data    &lt;=&gt;   Copyright © FIFA 2014. All Rights Reserved.</p>

<p>Example 2:</p>

<ul>
  <li>A Free SQLite DB Download for the Match Schedule from <a href="https://github.com/openfootball/build/releases"><code>github.com/openfootball</code></a>.
    <ul>
      <li>Public Domain (No Copyright. No License. No Rights Reserved.) </li>
    </ul>
  </li>
</ul>

<p><img src="i/worldcup2014-db-download.png" alt="" /></p>

<p>Q: Best &#8220;License&#8221; for Open Data?</p>

<p>A: Public Domain¹ (No License. No Copyright. No Rights Reserved.)</p>

<p>Q: Why?</p>

<p>A: Keep it simple².</p>

<p>_<strong>__</strong>_____  <br />
¹ Also sometimes &#8220;rebranded&#8221; or known as Creative Commons Zero (CC0) or Unlicense.  <br />
² Full &#8220;License&#8221; Text Example: The data, schema n scripts are dedicated to the public domain. Use it as you please with no restrictions whatsoever.</p>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="basics---whats-structured-data-ex-fifa-web-page">Basics - What&#8217;s Structured Data? Ex. FIFA Web Page</h1>

<p>Structured Data &lt;=&gt; Free-Style Text</p>

<p>Example 1:</p>

<ul>
  <li>Match Schedule on FIFA Website</li>
</ul>

<p><img src="i/fifa-match-schedule.png" alt="" /></p>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="basics---whats-structured-data--ex-fifa-web-page-cont">Basics - What&#8217;s Structured Data?  Ex. FIFA Web Page (Cont.)</h1>

<p>Structured Data &lt;=&gt; Free-Style Text</p>

<p>Example 1:</p>

<ul>
  <li>Match Schedule on FIFA Website
    <ul>
      <li>Show Source (Try Screen Scrapping Document Object Model Tree? Why? Why Not?)</li>
    </ul>
  </li>
</ul>

<p><img src="i/fifa-match-schedule-inside.png" alt="" /></p>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="basics---whats-structured-data--ex-wikipedia">Basics - What&#8217;s Structured Data?  Ex. Wikipedia</h1>

<p>Structured Data &lt;=&gt; Free-Style Text</p>

<p>Example 2:</p>

<ul>
  <li>Match Schedule on Wikipedia</li>
</ul>

<p><img src="i/wikipedia-worldcup.png" alt="" /></p>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="basics---whats-structured-data--ex-wikipedia-cont">Basics - What&#8217;s Structured Data?  Ex. Wikipedia (Cont.)</h1>

<p>Structured Data &lt;=&gt; Free-Style Text</p>

<p>Example 2:</p>

<ul>
  <li>Match Schedule on Wikipedia
    <ul>
      <li>Show Source (Try Scrapping Free-Style Text? Why? Why Not?)</li>
    </ul>
  </li>
</ul>

<p>Cut-n-Paste Text:</p>

<pre><code>12 June 2014  17:00   Brazil    Match 1   Croatia    Arena de São Paulo, São Paulo
13 June 2014  13:00   Mexico    Match 2   Cameroon   Arena das Dunas, Natal
17 June 2014  16:00   Brazil    Match 17  Mexico     Estádio Castelão, Fortaleza
18 June 2014  19:00   Cameroon  Match 18  Croatia    Arena Amazônia, Manaus
23 June 2014  17:00   Cameroon  Match 33  Brazil     Estádio Nacional Mané Garrincha, Brasília
23 June 2014  17:00   Croatia   Match 34  Mexico     Arena Pernambuco, Recife
</code></pre>

<p>Wikipedia Source:</p>

<pre><code>===Group A===
{{main|2014 FIFA World Cup Group A}}
{{Fb cl2 header navbar}}
{{{Fb cl2 team |t={{fb|BRA}} |w=0 |d=0 |l=0 |gf=0 |ga=0 |bc=}}}}
{{{Fb cl2 team |t={{fb|CRO}} |w=0 |d=0 |l=0 |gf=0 |ga=0 |bc=|border=green}}}}
{{{Fb cl2 team |t={{fb|MEX}} |w=0 |d=0 |l=0 |gf=0 |ga=0 |bc=}}}}
{{{Fb cl2 team |t={{fb|CMR}} |w=0 |d=0 |l=0 |gf=0 |ga=0 |bc=}}}}
|}

{{{Football box
|date=12 June 2014
|time=17:00
|team1={{fb-rt|BRA}}
|score=[[2014 FIFA World Cup Group A#Brazil v Croatia|Match 1]]
|report=
|team2={{fb|CRO}}
|goals1=
|goals2=
|stadium=[[Arena Corinthians|Arena de São Paulo]], [[São Paulo]]
|attendance=
|referee=
}}}
{{{Football box
|date=13 June 2014
|time=13:00
|team1={{fb-rt|MEX}}
|score=[[2014 FIFA World Cup Group A#Mexico v Cameroon|Match 2]]
|report=
|team2={{fb|CMR}}
|goals1=
|goals2=
|stadium=[[Arena das Dunas]], [[Natal, Rio Grande do Norte|Natal]]
|attendance=
|referee=
}}}
</code></pre>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="basics---whats-structured-data----classic-format-options">Basics - What&#8217;s Structured Data?  - &#8220;Classic&#8221; Format Options</h1>

<p>Structured Data &lt;=&gt; Free-Style Text</p>

<p>&#8220;Classic&#8221; Structured Data Formats:</p>

<ul>
  <li>JSON (Yeah!)</li>
  <li>CSV - Comma-Separated Values</li>
  <li>SQL</li>
  <li>XML</li>
  <li>YAML</li>
  <li>RDF Triplets</li>
  <li>and others</li>
</ul>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="basics---whats-structured-data---new-format-options">Basics - What&#8217;s Structured Data? - &#8220;New&#8221; Format Options</h1>

<p>Structured Data &lt;=&gt; Free-Style Text</p>

<p>but also</p>

<p>&#8220;New&#8221; Structured Data Formats:</p>

<ul>
  <li>DSLs (Domain-Specific Languages),
    <ul>
      <li>that is, Mini Languages for Structured Data</li>
    </ul>
  </li>
</ul>

<p>Example - Open Football Match Schedule Language:</p>

<pre><code>(1) Thu Jun/12 17:00   Brazil - Croatia    @ Arena de São Paulo, São Paulo (UTC-3)
(2) Fri Jun/13 13:00   Mexico - Cameroon   @ Estádio das Dunas, Natal (UTC-3)
</code></pre>

<p>(Source:  <a href="https://github.com/openfootball/world-cup/blob/master/2014/cup.txt">world-cup/2014/cup.txt</a>)</p>

<p>Q: Why? Why invent yet another data format? Why?</p>

<p>A: Best of both worlds, that is, 1) looks n feels like free-form plain text - easy-to-read and
easy-to-write - 2) but offers a 100-% data accuracy guarantee (when loading
into SQL tables, for example).</p>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="basics---whats-structured-data---new-format-options-1">Basics - What&#8217;s Structured Data? - &#8220;New&#8221; Format Options</h1>

<p>Mini Languages for Structured Data </p>

<p>Example - Open Football Match Schedule Language:</p>

<pre><code>############################
# World Cup 2014 Brazil

Group A  |  Brazil       Croatia              Mexico         Cameroon
Group B  |  Spain        Netherlands          Chile          Australia
Group C  |  Colombia     Greece               Côte d'Ivoire  Japan
Group D  |  Uruguay      Costa Rica           England        Italy
Group E  |  Switzerland  Ecuador              France         Honduras
Group F  |  Argentina    Bosnia-Herzegovina   Iran           Nigeria
Group G  |  Germany      Portugal             Ghana          United States
Group H  |  Belgium      Algeria              Russia         South Korea


Matchday 1  |  Thu Jun/12
Matchday 2  |  Fri Jun/13
Matchday 3  |  Sat Jun/14
...

(16) Round of 16            |  Sat Jun/28 - Tue Jul/1
(17) Quarter-finals         |  Fri Jul/4 - Sat Jul/5
(18) Semi-finals            |  Tue Jul/8 - Wed Jul/9
(19) Match for third place  |  Sat Jul/12
(20) Final                  |  Sun Jul/13


Group A:

(1) Thu Jun/12 17:00   Brazil - Croatia       @ Arena de São Paulo, São Paulo (UTC-3)
(2) Fri Jun/13 13:00   Mexico - Cameroon      @ Estádio das Dunas, Natal (UTC-3)

(17) Tue Jun/17 16:00   Brazil - Mexico        @ Estádio Castelão, Fortaleza (UTC-3)
(18) Wed Jun/18 18:00   Cameroon - Croatia     @ Arena Amazônia, Manaus (UTC-4)

(33) Mon Jun/23 17:00   Cameroon - Brazil      @ Brasília (UTC-3)
(34) Mon Jun/23 17:00   Croatia  - Mexico      @ Recife (UTC-3)


Group B:

(3) Fri Jun/13 16:00   Spain - Netherlands     @ Arena Fonte Nova, Salvador (UTC-3)
(4) Fri Jun/13 18:00   Chile - Australia       @ Arena Pantanal, Cuiabá (UTC-4)

(19) Wed Jun/18 16:00   Spain - Chile             @ Estádio do Maracanã, Rio de Janeiro (UTC-3)
(20) Wed Jun/18 13:00   Australia - Netherlands   @ Estádio Beira-Rio, Porto Alegre (UTC-3)

(35) Mon Jun/23 13:00   Australia - Spain         @ Curitiba (UTC-3)
(36) Mon Jun/23 13:00   Netherlands - Chile       @ São Paulo (UTC-3)
...
</code></pre>

<p>(Source: <a href="https://github.com/openfootball/world-cup/blob/master/2014/cup.txt">world-cup/2014/cup.txt</a>)</p>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="more-basics---terms-of-use-cont">More Basics - Terms of Use (Cont.)</h1>

<ul>
  <li>Web 3.0, 4.0               &lt;=&gt;   Web 1.0, 2.0</li>
  <li>Giant Global Graph (GGG)   &lt;=&gt;   World Wide Web (WWW)</li>
  <li>Semantic Web               &lt;=&gt;   Linked Data</li>
  <li>Ontologies                 &lt;=&gt;   Models n Schemas</li>
  <li>Taxonomies                 &lt;=&gt;   Folksonomies</li>
  <li>RDF Triplet Stores         &lt;=&gt;   SQL DBs</li>
  <li>SPARQL Queries             &lt;=&gt;   SQL Queries</li>
  <li>Big Data                   &lt;=&gt;   Micro Data</li>
</ul>

<h2 id="just-kidding-lets-dive-into-code-code-code">Just Kidding. Let&#8217;s Dive into Code. Code. Code.</h2>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="matchday-widget-example----footballdbwidgetjs">Matchday Widget Example -  <code>footballdb.widget.js</code></h1>

<p>Use like:</p>

<pre><code>&lt;div id='world'¹&gt;&lt;/div&gt;

&lt;script&gt;
  var widget = footballdb_widget_new( '#world'¹ );
  widget.update( 'world.2014'², '2'³  );   // world cup in brazil 2014, matchday 2
  widget.update( 'world.2014'², '20'³ );   // world cup in brazil 2014, final (e.g. round 20)
&lt;/script&gt;
</code></pre>

<p>_<strong>__</strong><strong>__</strong><strong>__</strong><strong>__</strong>  <br />
¹ - selector id for div  <br />
² - event key for world cup in brazil 2014 <br />
³ - round 2 (e.g. matchday 2); round 20 (e.g. final)</p>

<p>Results in:</p>

<pre><code>World Cup 2014 - Matchday 2

2014/06/13 | Mexico (MEX) - Cameroon (CMR)
2014/06/13 | Spain (ESP)  - Netherlands (NED)
2014/06/13 | Chile (CHI)  - Australia (AUS)
</code></pre>

<p>(Live: <a href="http://geraldb.github.io/football.js/samples/starter/index.html">geraldb.github.io/football.js/samples/starter</a>)</p>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="matchday-widget-example----footballdbwidgetjs---source">Matchday Widget Example -  <code>footballdb.widget.js</code> - Source</h1>

<pre><code>var footballdb_widget_new = function( widget_id, api_path_prefix ) {
  
  var _api_path_prefix = '';
  var _$widget;
  
  function _init( widget_id, api_path_prefix )
  {
    _api_path_prefix = api_path_prefix;
    _$widget  = $( widget_id );
  }

  function _update( event_key, round_pos )
  {
    var api_link = _api_path_prefix + "/event/" + event_key + "/round/" + round_pos; 
    
    $.getJSON( api_link, function(json) {
    
      var snippet = "";  // build up a hypertext (html) snippet to add/append
  
      snippet += "&lt;h3&gt;";
      snippet += json.event.title;
      snippet += " - ";
      snippet += json.round.title;
      snippet += "&lt;/h3&gt;";
  
      snippet += "&lt;ul&gt;";
  
      $.each( json.games, function( index, game ) {
        snippet += "&lt;li&gt;";
        snippet += game.play_at + " | ";
        snippet += game.team1_title + " (" + game.team1_code +")";

       if( game.score1 != null &amp;&amp; game.score2 != null ) {
         if( game.score1et != null &amp;&amp; game.score2et != null ) {
           if ( game.score1p != null &amp;&amp; game.score2p != null ) {
             snippet += " " + game.score1p + "-" + game.score2p + " pen /";
           }
           snippet += " " + game.score1et + "-" + game.score2et + " a.e.t. /";
         }
         snippet += " " + game.score1 + "-" + game.score2;
      }
      else
        snippet += " - ";
      
      snippet += " " + game.team2_title + " (" + game.team2_code +")";
      snippet += "&lt;/li&gt;";
    });

    snippet += "&lt;/ul&gt;";
  
    _$widget.html( snippet );
    });  // getJSON
  }  // fn _update

  // call c'tor/constructor
  _init( widget_id, api_path_prefix );

  // return/export public api
  return {
     update: _update
  }
  
} // fn football_widget_new
</code></pre>

<p>(Source: <a href="https://github.com/geraldb/football.js">github.com/geraldb/football.js</a>)</p>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="matchday-widget-example----footballdbwidgetjs---v20">Matchday Widget Example -  <code>footballdb.widget.js</code> - v2.0</h1>

<ul>
  <li>Let&#8217;s use templates (w/ <code>underscore.js</code>)</li>
  <li>Let&#8217;s use modules (w/ <code>require.js</code>)</li>
  <li>Let&#8217;s use a <code>football.db</code> JSON API module / wrapper</li>
</ul>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="matchday-widget-example----footballdbwidgetjs---v20---templates">Matchday Widget Example -  <code>footballdb.widget.js</code> - v2.0 - Templates</h1>

<p><code>templates/events.html</code>:</p>

<pre><code>&lt;h3&gt;
 &lt;%= event.title %&gt;
   -  
 &lt;%= round.title %&gt;
&lt;/h3&gt;
</code></pre>

<p><code>templates/games.html</code>:</p>

<pre><code>&lt;table&gt;
 &lt;% _.each( games, function( game, index ) { %&gt;
  &lt;tr&gt;
    &lt;td&gt;
      &lt;%= game.play_at %&gt;
     &lt;/td&gt;
     &lt;td style='text-align: right;'&gt;
       &lt;%= game.team1_title %&gt; (&lt;%= game.team1_code %&gt;)
     &lt;/td&gt;

     &lt;td&gt;
      &lt;% if( game.score1 != null &amp;&amp; game.score2 != null ) { %&gt;
        &lt;% if( game.score1ot != null &amp;&amp; game.score2ot != null ) { %&gt;
          &lt;% if ( game.score1p != null &amp;&amp; game.score2p != null ) { %&gt;
             &lt;%= game.score1p %&gt; - &lt;%= game.score2p %&gt; pen /
          &lt;% } %&gt;
           &lt;%= game.score1ot %&gt; - &lt;%= game.score2ot %&gt; a.e.t. /
        &lt;% } %&gt;
        &lt;%= game.score1 %&gt; - &lt;%= game.score2 %&gt;
      &lt;% } else { %&gt;
        - 
      &lt;% } %&gt;
     &lt;/td&gt;
     &lt;td&gt;
      &lt;%= game.team2_title %&gt; (&lt;%= game.team2_code %&gt;)
     &lt;/td&gt;
   &lt;/tr&gt;
  &lt;% }); %&gt;
&lt;/table&gt;
</code></pre>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="matchday-widget-example----footballdbwidgetjs---v20---modules">Matchday Widget Example -  <code>footballdb.widget.js</code> - v2.0 - Modules</h1>

<p>Modules w/ <code>require.js</code>:</p>

<pre><code>football/api.js
football/widget.js
football/templates/event.html
football/templates/games.html
football/templates/rounds.html
</code></pre>

<p>Template Usage in JavaScript (w/ <code>require.js</code> and <code>underscore.js</code>):</p>

<pre><code>var gamesTpl     = require( 'text!football/templates/games.html' );
var renderGames  = _.template( gamesTpl );    // returns a fn for reuse
...
$games.html(  renderGames( { games: data.games } ) );
</code></pre>

<p><code>football/widget.js</code>:</p>

<pre><code>define( function(require) {

            require( 'utils' );
  var Api = require( 'football/api' );

  var eventTpl   = require( 'text!football/templates/event.html' ),
      roundsTpl  = require( 'text!football/templates/rounds.html' ),
      gamesTpl   = require( 'text!football/templates/games.html' );

  var renderEvent  = _.template( eventTpl ),
      renderRounds = _.template( roundsTpl ),
      renderGames  = _.template( gamesTpl );

  var Widget = {};

Widget.create = function( id, opts ) {

  var $el,
      $event,    // used for event header 
      $rounds,   // used for rounds
      $games;    // used for round details (matches/games)
  ...
</code></pre>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="matchday-widget-example----footballdbwidgetjs---v20---api-wrapper-module">Matchday Widget Example -  <code>footballdb.widget.js</code> - v2.0 - API Wrapper Module</h1>

<p><code>football/api.js</code>:</p>

<pre><code>define( function() {
  
  var Api = {};

Api.create = function( opts ) {

  var defaults = { baseUrl: 'http://footballdb.herokuapp.com/api/v1' };
  var settings;

  function init( opts )  {
    settings = _.extend( {}, defaults, opts );
  }

  function fetch( path, onsuccess )  {
    var url = settings.baseUrl + path + '?callback=?';
    $.getJSON( url, onsuccess );
  }

  function fetchRounds( event, onsuccess )  {
    fetch( '/event/' + event + '/rounds', onsuccess );
  }

  function fetchRound( event, round, onsuccess ) {
    fetch( '/event/' + event + '/round/' + round, onsuccess );
  }

  init( opts ); // call "c'tor/constructor"

  // return/export public api
  return {
     fetchRound:        fetchRound,
     fetchRounds:       fetchRounds,
  }
} // end fn Api.create

  return Api;

}); // end define
</code></pre>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="matchday-widget-example---football-js---v30">Matchday Widget Example - <code>&lt;football-js&gt;</code> - v3.0</h1>

<ul>
  <li>Let&#8217;s build our own tag / element / web component. Example: <code>&lt;football-js event='world.2014'&gt;&lt;/football-js&gt;</code></li>
</ul>

<p>The old way in JavaScript. Usage Example:</p>

<pre><code>&lt;script src='js/football.js'&gt;&lt;/script&gt;

&lt;div id='world'&gt;&lt;/div&gt;

&lt;script&gt;
  var widget = footballdb_widget_new( '#world' );
  widget.update( 'world.2014', '2'  );   // world cup in brazil 2014, matchday 2
&lt;/script&gt;
</code></pre>

<p>The new way:</p>

<pre><code>&lt;link rel='import' href='football-js.html'&gt;     &lt;!-- HTML Imports --&gt;

&lt;football-js event='world.2014'&gt;&lt;/football-js&gt;  &lt;!-- custom tag use --&gt;
</code></pre>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="web-components-machinery---new-web-standard-building-blocks">Web Components Machinery - New Web Standard Building Blocks</h1>

<p>What&#8217;s X-Tag? What&#8217;s Polymer?</p>

<ul>
  <li><strong>X-Tag</strong>  (<a href="http://www.x-tags.org"><code>x-tags.org</code></a>)- JavaScript library by Mozilla - lets you use and build custom tags for all modern browsers</li>
  <li><strong>Polymer</strong> (<a href="http://www.polymer-project.org"><code>polymer-project.org</code></a>) - JavaScript Library by Google - lets you use and build custom tags for all modern browsers</li>
</ul>

<p>New Web Standard Building Blocks</p>

<ul>
  <li><strong>Custom Elements</strong>          &#8211;  (<code>&lt;element&gt;</code>) - <a href="http://www.w3.org/TR/custom-elements/">W3C Spec</a></li>
  <li><strong>Shadow DOM</strong>               &#8211;  (hide DOM subtrees under shadow roots - <code>createShadowRoot()</code>) - <a href="http://www.w3.org/TR/shadow-dom/">W3C Spec</a></li>
  <li><strong>HTML Imports</strong>             &#8211;  (include and reuse HTML documents) - <a href="http://www.w3.org/TR/html-imports/">W3C Spec</a></li>
  <li><strong>HTML Templates</strong>           &#8211;  (<code>&lt;template&gt;</code>) - <a href="http://www.w3.org/TR/html-templates/">W3C Spec</a></li>
  <li><strong>MDV (Model Driven Views)</strong> &#8211;  (<code>repeat='{{ greetings }}'</code>) - JavaScript Library</li>
</ul>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="matchday-widget-example---football-js---v30-cont">Matchday Widget Example - <code>&lt;football-js&gt;</code> - v3.0 (Cont.)</h1>

<p><code>football-js.html</code>:</p>

<pre><code>&lt;polymer-element name='football-js' attributes='event'&gt;
  &lt;template&gt;
     &lt;style&gt;
        ... [your styles here] ...
     &lt;/style&gt;
     ... [your (model-driven) views here] ...
  &lt;/template&gt;
  &lt;script&gt;
     ... [your scripts here] ...
  &lt;/script&gt;
&lt;/polymer-element&gt;
</code></pre>

<p>MDV (Model Driven Views):</p>

<pre><code>&lt;template&gt;
  &lt;div&gt;
    &lt;h3&gt;
      {{ data.event.title }}  -  {{ data.round.title }}
    &lt;/h3&gt;

   &lt;table&gt;
   &lt;template repeat='{{data.games}}'&gt;
   &lt;tr&gt;
    &lt;td&gt;
      {{ play_at }}
     &lt;/td&gt;
     &lt;td&gt;
       {{ team1_title }} ({{ team1_code }})
     &lt;/td&gt;

     &lt;td&gt;
       {{ score1 }} - {{ score2 }}
     &lt;/td&gt;
     &lt;td&gt;
      {{ team2_title }} ({{ team2_code }})
     &lt;/td&gt;
   &lt;/tr&gt;
   &lt;/template&gt;
   &lt;/table&gt;  
&lt;/template&gt;
</code></pre>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="matchday-widget-example---football-js---v30-1">Matchday Widget Example - <code>&lt;football-js&gt;</code> - v3.0</h1>

<p>Usage:</p>

<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset='utf-8'&gt;
    &lt;title&gt;football.js&lt;/title&gt;
    &lt;script src='js/libs/polymer.min.js'&gt;&lt;/script&gt;
    &lt;link rel='import' href='football-js.html'&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;football-js event='world.2014'&gt;&lt;/football-js&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>(Live: <a href="http://geraldb.github.io/football.js/samples/polymer/index.html">geraldb.github.io/football.js/samples/polymer</a>)</p>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="thats-it-thank-you">That&#8217;s it. Thank you.</h1>

<h3 id="links">Links</h3>

<ul>
  <li><a href="https://github.com/openfootball">github.com/openfootball</a></li>
</ul>

<p>More Open Data Projects</p>

<ul>
  <li><a href="https://github.com/openbeer">github.com/openbeer</a></li>
  <li><a href="https://github.com/openwine">github.com/openwine</a></li>
  <li><a href="https://github.com/openmundi">github.com/openmundi</a></li>
</ul>

<h3 id="questions-comments">Questions? Comments?</h3>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="bonus--beer-wine-formula-1-alpine-ski">Bonus:  Beer? Wine? Formula 1? Alpine Ski?</h1>

<h2 id="whats-beerdb">What&#8217;s <code>beer.db</code>?</h2>

<p>A free open public domain beer database n schema
for use in any (programming) language
(e.g. uses plain text fixtures/data sets). Example:</p>

<pre><code>### Brewery

guinness, St. James's Gate Brewery / Guinness Brewery, 1759, Dublin
</code></pre>

<pre><code>### Beer

Guinness|Guinness Draught, 4.2%, irish_dry_stout|dry_stout|stout
</code></pre>


</div>
<div class='slide '>
<!-- _S9SLIDE_ -->
<h1 id="bonus-how-to-use-the-http-json-api---get-beerguinness">Bonus: How to use the HTTP JSON API - <code>GET /beer/guinness</code></h1>

<p>Get beer by key <code>/beer/:key</code></p>

<pre><code>GET /beer/guinness

{
  "beer":
  {
    "key":"guinness",
    "title":"Guinness",
    "synonyms": "Guinness Draught",
    "abv":"4.2",
    "srm":null,
    "og":null,
    "tags":["irish_dry_stout","dry_stout","stout"],
    "brewery":
    {
      "key": "guinness",
      "title": "St. James's Gate Brewery / Guinness Brewery"
    },
    "country":
    {
      "key":"ie",
      "title":"Irland"
    }
  }
}
</code></pre>

<!-- === end markdown block === -->
</div>


</div><!-- presentation -->
</body>
</html>